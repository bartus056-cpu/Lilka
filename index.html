<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíò Walentynkowe pytanie dla Lilki üíò</title>
    
    <!-- EmailJS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        // Inicjalizuj EmailJS z TWOIM kluczem
        emailjs.init('mwdIn3kCQ1fVhJl9u');
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #ffafcc 0%, #ffc8dd 25%, #cdb4db 50%, #bde0fe 75%, #a2d2ff 100%);
            font-family: 'Arial', sans-serif;
            text-align: center;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            padding: 40px 30px;
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(255, 0, 110, 0.25);
            border: 5px solid #ff4d6d;
            max-width: 600px;
            width: 95%;
        }
        
        h1 {
            color: #ff4d6d;
            margin-bottom: 10px;
            font-size: 24px;
        }
        
        .lilki-name {
            font-size: 48px;
            color: #ff006e;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 2px 2px 0 #ffb3c6;
        }
        
        .question {
            font-size: 32px;
            color: #c9184a;
            margin: 30px 0;
            padding: 25px;
            background: #fff0f3;
            border-radius: 20px;
            border: 3px dashed #ff8fab;
        }
        
        .buttons {
            margin: 40px 0;
        }
        
        button {
            font-size: 26px;
            padding: 18px 50px;
            margin: 15px;
            border: none;
            border-radius: 60px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            min-width: 160px;
        }
        
        #yesBtn {
            background: linear-gradient(145deg, #ff006e, #ff4d6d);
            color: white;
            border: 4px solid #ff4d6d;
        }
        
        #yesBtn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(255, 0, 110, 0.3);
        }
        
        #noBtn {
            background: linear-gradient(145deg, #ffb3c6, #ffccd5);
            color: #a4133c;
            border: 4px solid #ff8fab;
        }
        
        #noBtn:hover {
            transform: scale(1.05);
        }
        
        #success {
            display: none;
            margin-top: 40px;
            animation: fadeIn 1s;
        }
        
        .heart {
            font-size: 100px;
            color: #ff006e;
            margin: 20px 0;
            animation: heartbeat 1.2s infinite;
        }
        
        .message {
            font-size: 28px;
            color: #ff006e;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .bartek {
            font-size: 24px;
            color: #c9184a;
            margin-top: 20px;
            font-weight: bold;
        }
        
        #sorry {
            color: #c9184a;
            font-size: 22px;
            font-weight: bold;
            padding: 15px;
            background: #ffebee;
            border-radius: 15px;
            margin-top: 20px;
            display: none;
        }
        
        /* Przycisk testowy - mo≈ºesz p√≥≈∫niej usunƒÖƒá */
        .test-btn {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #4CAF50;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
            z-index: 1000;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 25px 20px;
            }
            
            .lilki-name {
                font-size: 36px;
            }
            
            .question {
                font-size: 26px;
                padding: 20px;
            }
            
            button {
                font-size: 22px;
                padding: 15px 35px;
                min-width: 140px;
            }
            
            .heart {
                font-size: 80px;
            }
        }
    </style>
</head>
<body>
    <!-- Przycisk testowy - USU≈É go jak wszystko bƒôdzie dzia≈Çaƒá -->
    <div class="test-btn" onclick="testEmail()">TEST Email</div>
    
    <div class="container">
        <h1>Specjalnie dla:</h1>
        <div class="lilki-name">LILKI üíù</div>
        
        <div class="question">
            Czy zostaniesz mojƒÖ walentynkƒÖ?
        </div>
        
        <div class="buttons">
            <button id="yesBtn">TAK üíñ</button>
            <button id="noBtn">NIE</button>
        </div>
        
        <div id="sorry"></div>
        
        <div id="success">
            <div class="heart">‚ù§Ô∏è</div>
            <div class="message">Wiedzia≈Çem, ≈ºe siƒô zgodzisz! üíò</div>
            <div class="bartek">Bartek</div>
        </div>
    </div>

    <script>
        // ===== KONFIGURACJA EMAILJS =====
        const SERVICE_ID = 'service_ts4zyfh';
        const TEMPLATE_ID = 'ethgzcu';
        const PUBLIC_KEY = 'mwdIn3kCQ1fVhJl9u';
        
        // ===== ZMIENNE =====
        let noClicks = 0;
        let yesClicked = false;
        
        // Wiadomo≈õci gdy kliknie NIE
        const messages = [
            "Nie r√≥b mi tego... üíî",
            "Nie mo≈ºesz tak powiedzieƒá!",
            "Proszƒô, przemy≈õl to! ü§î",
            "Jeste≈õ pewna? ü•∫",
            "Bƒôdƒô bardzo smutny... üò¢",
            "Serio tak m√≥wisz? üíî",
            "Lilki, bez Ciebie walentynki nie majƒÖ sensu!",
            "Proszƒô, powiedz TAK! üôè",
            "Z≈Çamiƒô Ci serce? üíò",
            "Ostatnia szansa... TAK?",
            "üíñ DLA LILKI TYLKO TAK üíñ"
        ];
        
        // ===== FUNKCJA WYSY≈ÅAJƒÑCA EMAIL =====
        function sendValentineEmail(actionType, clickCount = 0) {
            console.log('üîÑ Wysy≈Çam email:', actionType, 'klikniƒôcia NIE:', clickCount);
            
            // Dane kt√≥re muszƒÖ pasowaƒá do szablonu w EmailJS
            const templateParams = {
                answer: actionType,
                date: new Date().toLocaleDateString('pl-PL'),
                time: new Date().toLocaleTimeString('pl-PL'),
                no_clicks: clickCount,
                to_email: 'bartus056@gmail.com',
                from_name: 'Strona Walentynkowa',
                reply_to: 'noreply@walentynka.com'
            };
            
            // Wy≈õlij email przez EmailJS
            emailjs.send(SERVICE_ID, TEMPLATE_ID, templateParams)
                .then(function(response) {
                    console.log('‚úÖ EMAIL WYS≈ÅANY! Status:', response.status);
                    console.log('Odpowied≈∫ serwera:', response.text);
                })
                .catch(function(error) {
                    console.log('‚ùå B≈ÅƒÑD WYSY≈ÅANIA EMAIL:', error);
                    console.log('Szczeg√≥≈Çy b≈Çƒôdu:', JSON.stringify(error));
                });
        }
        
        // ===== FUNKCJA TESTOWA =====
        function testEmail() {
            console.log('üß™ Rozpoczynam test EmailJS...');
            alert('Testujƒô wysy≈Çanie emaila... Sprawd≈∫ konsolƒô F12');
            
            sendValentineEmail('TEST z przycisku', 999);
        }
        
        // ===== OBS≈ÅUGA PRZYCISK√ìW =====
        document.getElementById('yesBtn').addEventListener('click', function() {
            if (!yesClicked) {
                yesClicked = true;
                
                // 1. Wy≈õlij email o klikniƒôciu TAK
                sendValentineEmail('KLIKNƒò≈ÅA TAK! üéâ‚ù§Ô∏èüéä', noClicks);
                
                // 2. Poka≈º sukces
                document.querySelector('.question').style.display = 'none';
                document.querySelector('.buttons').style.display = 'none';
                document.getElementById('sorry').style.display = 'none';
                document.getElementById('success').style.display = 'block';
                
                // 3. Animacja przycisku TAK
                this.style.transform = 'scale(1.5)';
                this.style.opacity = '0.7';
                setTimeout(() => {
                    this.style.display = 'none';
                }, 500);
                
                // 4. Dodaj konfetti
                createConfetti();
            }
        });
        
        document.getElementById('noBtn').addEventListener('click', function() {
            noClicks++;
            
            // 1. Za pierwszym razem klikniƒôcia NIE wy≈õlij email
            if (noClicks === 1) {
                sendValentineEmail('kliknƒô≈Ça NIE üò¢', noClicks);
            }
            // 2. Za 3, 5, 10 klikniƒôciem te≈º wy≈õlij
            else if ([3, 5, 10].includes(noClicks)) {
                sendValentineEmail(`kliknƒô≈Ça NIE (${noClicks} razy) ${noClicks >= 5 ? 'üò≠' : 'üòî'}`, noClicks);
            }
            
            // 3. Zmie≈Ñ wiadomo≈õƒá
            const msgIndex = Math.min(noClicks - 1, messages.length - 1);
            document.getElementById('sorry').textContent = messages[msgIndex];
            document.getElementById('sorry').style.display = 'block';
            
            // 4. Powiƒôksz przycisk TAK
            const yesBtn = document.getElementById('yesBtn');
            const currentSize = parseFloat(window.getComputedStyle(yesBtn).fontSize);
            yesBtn.style.fontSize = (currentSize + 4) + 'px';
            
            // 5. UciekajƒÖcy przycisk NIE
            const moveX = Math.random() * 100 - 50;
            const moveY = Math.random() * 100 - 50;
            this.style.transform = `translate(${moveX}px, ${moveY}px)`;
            this.style.transition = 'transform 0.3s';
        });
        
        // ===== DODATKOWE EFEKTY =====
        function createConfetti() {
            const hearts = ['‚ù§Ô∏è', 'üíñ', 'üíò', 'üíù', 'üíó'];
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.position = 'fixed';
                    heart.style.fontSize = (Math.random() * 20 + 20) + 'px';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.top = '-50px';
                    heart.style.zIndex = '9999';
                    heart.style.opacity = '0.8';
                    
                    document.body.appendChild(heart);
                    
                    // Animacja spadania
                    const duration = Math.random() * 2 + 2;
                    heart.style.animation = `fall ${duration}s linear forwards`;
                    
                    // Usu≈Ñ po animacji
                    setTimeout(() => heart.remove(), duration * 1000);
                }, i * 100);
            }
            
            // Dodaj styl animacji
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fall {
                    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                    100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        }
        
        // ===== INICJALIZACJA =====
        console.log('üöÄ Strona walentynkowa za≈Çadowana!');
        console.log('EmailJS skonfigurowany z kluczem:', PUBLIC_KEY);
        console.log('Service ID:', SERVICE_ID);
        console.log('Template ID:', TEMPLATE_ID);
        
        // Sprawd≈∫ czy EmailJS dzia≈Ça
        if (typeof emailjs !== 'undefined') {
            console.log('‚úÖ EmailJS jest za≈Çadowany i gotowy');
        } else {
            console.log('‚ùå EmailJS NIE jest za≈Çadowany!');
            alert('UWAGA: EmailJS nie zosta≈Ç za≈Çadowany. Emails nie bƒôdƒÖ wysy≈Çane!');
        }
    </script>
</body>
</html>


